{% extends "base.html" %}

{% block title %}Elaina - Advanced Discord Bot{% endblock %}

{% block content %}
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Welcome to Elaina</h1>
            <p class="hero-subtitle">The most advanced Discord bot for your server</p>
            <div class="hero-buttons">
                <a href="{{ bot_invite }}" class="btn btn-large btn-primary">Invite to Server</a>
                {% if not user %}
                    <a href="/auth/login" class="btn btn-large btn-secondary">Login with Discord</a>
                {% else %}
                    <a href="/dashboard" class="btn btn-large btn-secondary">Go to Dashboard</a>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<section class="features-preview">
    <div class="container">
        <h2 class="section-title">Why Choose Elaina?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üõ°Ô∏è</div>
                <h3>Moderation</h3>
                <p>Advanced moderation tools to keep your server safe and organized</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚≠ê</div>
                <h3>Leveling System</h3>
                <p>Engage your community with XP and level rewards</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéµ</div>
                <h3>Music Player</h3>
                <p>High-quality music streaming from multiple sources</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üí∞</div>
                <h3>Economy</h3>
                <p>Virtual currency system with daily rewards and games</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéüÔ∏è</div>
                <h3>Ticket System</h3>
                <p>Professional support ticket system for your server</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéÅ</div>
                <h3>Giveaways</h3>
                <p>Create and manage giveaways with ease</p>
            </div>
        </div>
    </div>
</section>

<section class="stats-section">
    <div class="container">
        <div class="stats-grid" id="bot-stats">
            <div class="stat-card">
                <div class="stat-value" id="stat-guilds">-</div>
                <div class="stat-label">Servers</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-users">-</div>
                <div class="stat-label">Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-latency">-</div>
                <div class="stat-label">Latency (ms)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-status">-</div>
                <div class="stat-label">Status</div>
            </div>
        </div>
    </div>
</section>

<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>Ready to get started?</h2>
            <p>Join thousands of servers using Elaina to enhance their Discord experience</p>
            <a href="{{ bot_invite }}" class="btn btn-large btn-primary">Add Elaina Now</a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
async function loadBotStats() {
    try {
        const response = await fetch('/status');
        const data = await response.json();

        document.getElementById('stat-guilds').textContent = data.guilds;
        document.getElementById('stat-users').textContent = data.users.toLocaleString();
        document.getElementById('stat-latency').textContent = data.latency;

        const statusElement = document.getElementById('stat-status');
        statusElement.textContent = data.status.charAt(0).toUpperCase() + data.status.slice(1);
        statusElement.className = 'stat-value status-' + data.status;
    } catch (error) {
        console.error('Failed to load bot stats:', error);
    }
}

loadBotStats();
setInterval(loadBotStats, 30000);
</script>
{% endblock %}